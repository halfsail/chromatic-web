const a=location.pathname.split("/").slice(0,-1).join("/"),r=[a+"/_app/immutable/bundle.-CAQn3P4.js",a+"/_app/immutable/assets/style.CiQX-Cdi.css"],l=[a+"/audio/kirakira.mp3",a+"/audio/lock.ogg",a+"/audio/lock_48k.ogg",a+"/audio/pop_down.mp3",a+"/favicon.png",a+"/favicon_32.png",a+"/global.css",a+"/icons/chromatic_app_128.png",a+"/icons/chromatic_app_144.png",a+"/icons/chromatic_app_152.png",a+"/icons/chromatic_app_192.png",a+"/icons/chromatic_app_512.png",a+"/icons/chromatic_app_72.png",a+"/icons/chromatic_app_96.png",a+"/icons/favicon_16.png",a+"/icons/favicon_32.png",a+"/manifest.json",a+"/tutorialWide.webm"],d="0.0.3",s=`cache-${d}`,p=[...r,...l];self.addEventListener("install",c=>{async function t(){await(await caches.open(s)).addAll(p)}c.waitUntil(t()),self.skipWaiting()});self.addEventListener("activate",c=>{async function t(){for(const n of await caches.keys())n!==s&&await caches.delete(n)}c.waitUntil(t()),self.clients.claim()});self.addEventListener("fetch",c=>{if(c.request.method!=="GET")return;async function t(){const n=new URL(c.request.url),i=await caches.open(s);if(p.includes(n.pathname)){const e=await i.match(n.pathname);if(e)return e}try{const e=await fetch(c.request);return e.status===200&&i.put(c.request,e.clone()),e}catch{const e=await i.match(c.request);if(e)return e;if(c.request.mode==="navigate"){const o=await i.match("/");if(o)return o}throw new Error("Network request failed and no cache available")}}c.respondWith(t())});
